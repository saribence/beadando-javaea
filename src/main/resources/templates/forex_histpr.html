<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Forex Historikus Árak</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" th:href="@{/assets/css/main.css}" />
    <noscript><link rel="stylesheet" th:href="@{/assets/css/noscript.css}" /></noscript>
</head>
<body class="is-preload">
<div id="page-wrapper">

    <header id="header">
        <div class="inner">
            <h1 id="logo"><a th:href="@{/}">Magyar Fiktív Bank</a></h1>
            <nav id="nav">
                <ul>
                    <li><a th:href="@{/}">Főoldal</a></li>
                    <li><a th:href="@{/mnb}">SOAP (MNB)</a></li>
                    <li><a th:href="@{/forex-account}">Forex Fiók</a></li>
                    <li><a th:href="@{/forex-actpr}">Forex AktÁr</a></li>
                    <li class="current_page_item"><a th:href="@{/forex-histpr}">Forex HistÁr</a></li>
                    <li><a th:href="@{/forex-openpos}">Forex Nyit</a></li>
                    <li><a th:href="@{/forex-positions}">Forex-Poz</a></li>
                    <li><a th:href="@{/forex-closepos}">Forex Zár</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div id="main" class="wrapper style1">
        <div class="container">
            <header class="major">
                <h2>Historikus Árak Lekérdezése</h2>
                <p>Válasszon devizapárt és időszakot (Granularity) a listából!</p>
            </header>

            <section>
                <form action="#" th:action="@{/forex-histpr}" th:object="${messageHistPrice}" method="post">
                    <div class="row gtr-uniform gtr-50">
                        <div class="col-6 col-12-xsmall">
                            <label for="instrument">Instrumentum</label>
                            <select name="instrument" th:field="*{instrument}" id="instrument">
                                <option value="EUR_USD">EUR/USD</option>
                                <option value="USD_CHF">USD/CHF</option>
                                <option value="GBP_USD">GBP/USD</option>
                                <option value="USD_JPY">USD/JPY</option>
                                <option value="EUR_HUF">EUR/HUF</option>
                            </select>
                        </div>
                        <div class="col-6 col-12-xsmall">
                            <label for="granularity">Időszak (Granularity)</label>
                            <select name="granularity" th:field="*{granularity}" id="granularity">
                                <option value="S5">5 másodperc (S5)</option>
                                <option value="M1">1 perc (M1)</option>
                                <option value="M15">15 perc (M15)</option>
                                <option value="H1">1 óra (H1)</option>
                                <option value="D">1 nap (D)</option>
                                <option value="W">1 hét (W)</option>
                                <option value="M">1 hónap (M)</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <ul class="actions">
                                <li><input type="submit" value="Lekérdezés" class="primary" /></li>
                            </ul>
                        </div>
                    </div>
                </form>

                <hr />

                <div th:if="${candles}">
                    <h3>Utolsó 10 árfolyam: <span th:text="${selectedInstrument}"></span> (<span th:text="${selectedGranularity}"></span>)</h3>
                    <div class="table-wrapper">
                        <table class="alt">
                            <thead>
                            <tr>
                                <th>Időpont</th>
                                <th>Nyitó (Open)</th>
                                <th>Maximum (High)</th>
                                <th>Minimum (Low)</th>
                                <th>Záró (Close)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="candle : ${candles}">
                                <td th:text="${candle.time}"></td>
                                <td th:text="${candle.mid.o}"></td>
                                <td th:text="${candle.mid.h}"></td>
                                <td th:text="${candle.mid.l}"></td>
                                <td th:text="${candle.mid.c}" style="font-weight: bold;"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div th:if="${error}" class="box" style="border-color: red; color: red; background-color: #ffe6e6; padding: 1em;">
                    <h3>Hiba történt!</h3>
                    <p th:text="${error}"></p>
                </div>

            </section>
        </div>
    </div>

    <footer id="footer">
        <ul class="copyright">
            <li>&copy; Minden jog fenntartva.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
    </footer>

</div>

<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery.dropotron.min.js}"></script>
<script th:src="@{/assets/js/browser.min.js}"></script>
<script th:src="@{/assets/js/breakpoints.min.js}"></script>
<script th:src="@{/assets/js/util.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>

</body>
</html>